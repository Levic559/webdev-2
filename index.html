<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Assigment1</title>
    <style>
      .aim {
        border: 15px solid lightblue;
      }
    </style>
    <script>
      //  Levi   partner:Warren
      //We think there are many ways to do the same feature.
      //Although we code individually, we exchange the idea on GitHub.
      // We think there are many ways to do the same feature.
      // Although we code individually, we exchange the idea on GitHub.
      // https://github.com/Levic559/webdev-2.git
      // Finally, we decide to not use the same code but uploading an own version.

      // Requirement-5
      onload = function () {
        let myTextbox = document.createElement("input");
        myTextbox.type = "text";
        myTextbox.id = "first";
        document.body.appendChild(myTextbox);
        myTextbox.focus();
        document.body.appendChild(document.createElement("br"));

        let myTextbox2 = document.createElement("input");
        myTextbox2.type = "text";
        myTextbox2.id = "last";
        document.body.appendChild(myTextbox2);
        myTextbox2.focus();
        document.body.appendChild(document.createElement("br"));

        let myButton = document.createElement("input");
        myButton.type = "button";
        myButton.id = "go";
        myButton.value = "Go";
        document.body.appendChild(myButton);
        document.body.appendChild(document.createElement("br"));

        //Requirement-7
        function checkingOrder() {
          var textF = document.getElementById("first").value;
          var textL = document.getElementById("last").value;
          var textFcode = textF.toLowerCase().charCodeAt(0);
          var textLcode = textL.toLowerCase().charCodeAt(0);
          if (textLcode < textFcode) {
            myTextbox.style.backgroundColor = "yellow";
            myTextbox2.style.backgroundColor = "yellow";
            alert("wrong order");
          } else {
            reContainer();
          }
        }

        // Requirement-6
        myButton.onclick = function checkingInput() {
          if (myTextbox.value.length > "1" || myTextbox == " ") {
            myTextbox.style.backgroundColor = "pink";
            alert("wrong");
            myTextbox.focus();
          } else if (myTextbox2.value.length > "1" || myTextbox2 == " ") {
            myTextbox2.style.backgroundColor = "pink";
            alert("wrong");
            myTextbox2.focus();
          } else if (
            myTextbox.value.toLowerCase() >= "a" &&
            myTextbox.value.toLowerCase() <= "z"
          ) {
            myTextbox.style.backgroundColor = "white";
            checkingOrder();
          } else if (
            myTextbox.value.toLowerCase() < "a" ||
            myTextbox.value.toLowerCase() > "z"
          ) {
            myTextbox.style.backgroundColor = "pink";
            myTextbox.focus();
            alert("wrong");
          } else if (
            myTextbox2.value.toLowerCase() >= "a" &&
            myTextbox2.value.toLowerCase() <= "z"
          ) {
            myTextbox2.style.backgroundColor = "white";
            checkingOrder();
          } else if (
            myTextbox2.value.toLowerCase() < "a" ||
            myTextbox2.value.toLowerCase() > "z"
          ) {
            myTextbox2.style.backgroundColor = "pink";
            myTextbox2.focus();
            alert("wrong");
          } else {
            myTextbox.style.backgroundColor = "pink";
            myTextbox2.style.backgroundColor = "pink";
            myTextbox.focus();
            alert("wrong");
            myTextbox2.focus();
          }

          moveMe();
        };

        // Requirement-8
        function reContainer() {
          var container = document.createElement("div");
          container.id = "xyz";
          var byeByemyDiv = document.getElementById("xyz");
          console.log(byeByemyDiv);
          if (byeByemyDiv != null) {
            byeByemyDiv.remove();
          }
          addingDiv();
        }

        // Requirement-8
        function addingDiv() {
          let container = document.createElement("div");
          container.id = "xyz";
          document.body.appendChild(container);
          let divid = ["Top", "Middle", "Bottom"];
          for (let i = 0; i < 3; i++) {
            let divs = document.createElement("div");
            divs.id = divid[i];
            container.appendChild(divs);
          }
          addingImages();
        }

        // Requirement-8
        function addingImages() {
          var textF = document.getElementById("first").value;
          var textL = document.getElementById("last").value;
          var textFcode = textF.toLowerCase().charCodeAt(0);
          var textLcode = textL.toLowerCase().charCodeAt(0);

          for (let i = textFcode; i <= textLcode; i++) {
            let myLetter = String.fromCharCode(i); // using for loop to get all images
            let myImage = document.createElement("img"); // create images
            myImage.src = "letters/" + myLetter + ".png"; // linking images
            myImage.id = myLetter.toUpperCase().charCodeAt(0); // set id
            myImage.height = 100; // set size
            var divTop = document.getElementById("Top");
            divTop.appendChild(myImage); // put images in the div
          }
        }

        // Requirement-9/10
        function moveMe() {
          let images = document.getElementsByTagName("img");

          for (let i = 0; i < images.length; i++) {
            images[i].ondblclick = function () {
              if (this.nextSibling != null) {
                this.parentNode.appendChild(this);
              } else {
                if (this.parentNode.id == "Top") {
                  document.getElementById("Middle").appendChild(this);
                } else if (this.parentNode.id == "Middle") {
                  document.getElementById("Bottom").appendChild(this);
                } else {
                  document.getElementById("Top").appendChild(this);
                }
              }
            };
          }
        }

        // Requirement-11/12
        document.onkeydown = function mykeydown(e) {
          var textF = document.getElementById("first").value;
          var textL = document.getElementById("last").value;
          var textFcode = textF.toUpperCase().charCodeAt(0);
          var textLcode = textL.toUpperCase().charCodeAt(0);

          for (let i = textFcode; i <= textLcode; i++) {
            var match = document.getElementById(i);
            if (e.which > 64 && e.which < 91) {
              if ((e.which = match.id)) {
                // var select = document.getElementById(i);
                // select.style.border = "none";

                var selectclass = document.getElementsByClassName("aim");
                if (selectclass.length != 0) {
                  selectclass[0].classList.remove("aim");
                }

                var selectImg = document.getElementById(e.which);
                selectImg.classList.add("aim");
                // selectImg.style.border = "15px solid lightblue ";
              }
            }
          }

          if (e.which == 37) {
            var leftarrow = document.getElementsByClassName("aim");
            var aimId = leftarrow[0].id;
            var newleftarrow = document.getElementById(aimId);
            if (newleftarrow.previousSibling != null) {
              newleftarrow.parentNode.insertBefore(
                newleftarrow,
                newleftarrow.previousSibling
              );
            } else {
              if (newleftarrow.parentNode.id == "Top") {
                document.getElementById("Bottom").appendChild(newleftarrow);
              } else if (newleftarrow.parentNode.id == "Middle") {
                document.getElementById("Top").appendChild(newleftarrow);
              } else {
                document.getElementById("Middle").appendChild(newleftarrow);
              }
            }
          } else if (e.which == 40) {
            var downarrow = document.getElementsByClassName("aim");
            var aimId = downarrow[0].id;
            var newleftarrow = document.getElementById(aimId);
            if (newleftarrow.parentNode.id == "Top") {
              document.getElementById("Middle").appendChild(newleftarrow);
            } else if (newleftarrow.parentNode.id == "Middle") {
              document.getElementById("Bottom").appendChild(newleftarrow);
            } else {
              document.getElementById("Top").appendChild(newleftarrow);
            }
          }
        };
      };
    </script>
  </head>
  <body></body>
</html>
